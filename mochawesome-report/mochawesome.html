<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:3,&quot;tests&quot;:6,&quot;passes&quot;:6,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-02-29T22:02:26.131Z&quot;,&quot;end&quot;:&quot;2024-02-29T22:02:35.368Z&quot;,&quot;duration&quot;:9237,&quot;testsRegistered&quot;:6,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;a51729ce-2623-40fe-8a1d-b86e38040ace&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;655f3698-6bcf-4ef3-99a6-30afef214d36&quot;,&quot;title&quot;:&quot;Database Connection and Refresh&quot;,&quot;fullFile&quot;:&quot;D:\\Capstone Projects\\4th Module - Backend\\Subscribers-Mongo-Node-BoilerPlate-main\\tests\\index.test.js&quot;,&quot;file&quot;:&quot;\\tests\\index.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Database Connection and Refresh\&quot;&quot;,&quot;fullTitle&quot;:&quot;Database Connection and Refresh \&quot;before all\&quot; hook in \&quot;Database Connection and Refresh\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5816,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Connect to the test database\nawait mongoose.connect(process.env.DATABASE_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04d22733-5a9b-4779-a422-46b74d671a18&quot;,&quot;parentUUID&quot;:&quot;655f3698-6bcf-4ef3-99a6-30afef214d36&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Database Connection and Refresh\&quot;&quot;,&quot;fullTitle&quot;:&quot;Database Connection and Refresh \&quot;before each\&quot; hook in \&quot;Database Connection and Refresh\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:412,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Before each test, refresh the database with sample data\nawait connectToDatabase();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fca0cb7-57aa-4737-a9ec-dfd1d3010144&quot;,&quot;parentUUID&quot;:&quot;655f3698-6bcf-4ef3-99a6-30afef214d36&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Database Connection and Refresh\&quot;&quot;,&quot;fullTitle&quot;:&quot;Database Connection and Refresh \&quot;after all\&quot; hook in \&quot;Database Connection and Refresh\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Disconnect from the test database after all tests are done\nawait mongoose.connection.close();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c1af82a-1e27-45f7-a056-ede1f27b2855&quot;,&quot;parentUUID&quot;:&quot;655f3698-6bcf-4ef3-99a6-30afef214d36&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Database Connection and Refresh\&quot;&quot;,&quot;fullTitle&quot;:&quot;Database Connection and Refresh \&quot;after each\&quot; hook in \&quot;Database Connection and Refresh\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:198,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// After each test, delete all documents from the subscribers collection\nawait subscriberModel.deleteMany({});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f3ae489-e614-4281-8a50-97e96c60c4a9&quot;,&quot;parentUUID&quot;:&quot;655f3698-6bcf-4ef3-99a6-30afef214d36&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should connect to the test database and refresh data&quot;,&quot;fullTitle&quot;:&quot;Database Connection and Refresh should connect to the test database and refresh data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:621,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Test if connectToDatabase function connects successfully and refreshes data\ntry {\n  await connectToDatabase();\n  const subscribersCount = await subscriberModel.countDocuments();\n  expect(subscribersCount).to.equal(data.length);\n} catch (error) {\n  throw error;\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f469e49d-93cd-447a-9a77-35525eeead77&quot;,&quot;parentUUID&quot;:&quot;655f3698-6bcf-4ef3-99a6-30afef214d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new subscriber&quot;,&quot;fullTitle&quot;:&quot;Database Connection and Refresh should create a new subscriber&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:215,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const subscriberData = {\n  name: \&quot;John Doe\&quot;,\n  subscribedChannel: \&quot;Sample Channel\&quot;,\n};\nconst newSubscriber = new subscriberModel(subscriberData);\nconst savedSubscriber = await newSubscriber.save();\n// Check if the savedSubscriber has the expected properties\nexpect(savedSubscriber).to.have.property(\&quot;name\&quot;).to.equal(\&quot;John Doe\&quot;);\nexpect(savedSubscriber)\n  .to.have.property(\&quot;subscribedChannel\&quot;)\n  .to.equal(\&quot;Sample Channel\&quot;);\nexpect(savedSubscriber)\n  .to.have.property(\&quot;subscribedDate\&quot;)\n  .to.be.a(\&quot;Date\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;494636fd-aea0-4cb3-bc7a-34f5bda8ddcc&quot;,&quot;parentUUID&quot;:&quot;655f3698-6bcf-4ef3-99a6-30afef214d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not save a subscriber without required fields&quot;,&quot;fullTitle&quot;:&quot;Database Connection and Refresh should not save a subscriber without required fields&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidSubscriber = new subscriberModel({});\nawait expect(invalidSubscriber.save()).to.be.rejectedWith(mongoose.Error.ValidationError);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90a14017-c9bc-46b4-9ae3-8c8d2496992a&quot;,&quot;parentUUID&quot;:&quot;655f3698-6bcf-4ef3-99a6-30afef214d36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f469e49d-93cd-447a-9a77-35525eeead77&quot;,&quot;494636fd-aea0-4cb3-bc7a-34f5bda8ddcc&quot;,&quot;90a14017-c9bc-46b4-9ae3-8c8d2496992a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:839,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;34bcdcc8-16ee-469e-9c2b-4f8cf47fc2c0&quot;,&quot;title&quot;:&quot;Your Express App&quot;,&quot;fullFile&quot;:&quot;D:\\Capstone Projects\\4th Module - Backend\\Subscribers-Mongo-Node-BoilerPlate-main\\tests\\index.test.js&quot;,&quot;file&quot;:&quot;\\tests\\index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should respond with a status code of 200 for the root path&quot;,&quot;fullTitle&quot;:&quot;Your Express App should respond with a status code of 200 for the root path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:537,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai\n  .request(app)\n  .get(\&quot;/\&quot;)\n  .end((err, res) =&gt; {\n    if (err) {\n      console.error(err);\n      return done(err);\n    }\n    expect(res).to.have.status(200);\n    expect(res.text).to.equal(\&quot;Success\&quot;);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c05d3dd-0962-4176-bc61-69997c259c6d&quot;,&quot;parentUUID&quot;:&quot;34bcdcc8-16ee-469e-9c2b-4f8cf47fc2c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should respond with a status code of 400 for unknown paths&quot;,&quot;fullTitle&quot;:&quot;Your Express App should respond with a status code of 400 for unknown paths&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai\n  .request(app)\n  .get(\&quot;/unknown\&quot;)\n  .end((err, res) =&gt; {\n    if (err) {\n      console.error(err);\n      return done(err);\n    }\n    expect(res).to.have.status(400);\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a60104b6-bfbd-476d-8928-eca95aba06e5&quot;,&quot;parentUUID&quot;:&quot;34bcdcc8-16ee-469e-9c2b-4f8cf47fc2c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4c05d3dd-0962-4176-bc61-69997c259c6d&quot;,&quot;a60104b6-bfbd-476d-8928-eca95aba06e5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:544,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000},{&quot;uuid&quot;:&quot;83600a77-fb51-45df-9119-e1c9c96aff9a&quot;,&quot;title&quot;:&quot;SubscriberRoute&quot;,&quot;fullFile&quot;:&quot;D:\\Capstone Projects\\4th Module - Backend\\Subscribers-Mongo-Node-BoilerPlate-main\\tests\\index.test.js&quot;,&quot;file&quot;:&quot;\\tests\\index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should handle incorrect subscriber ID&quot;,&quot;fullTitle&quot;:&quot;SubscriberRoute should handle incorrect subscriber ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const incorrectId = \&quot;255\&quot;;\nconst res = await chai.request(app).get(`/subscribers/${incorrectId}`);\nexpect(res).to.have.status(400);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f43cc853-799f-45b3-93a4-d1844e3650e9&quot;,&quot;parentUUID&quot;:&quot;83600a77-fb51-45df-9119-e1c9c96aff9a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f43cc853-799f-45b3-93a4-d1844e3650e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:100000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;8.2.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Subscribers-Mongo-Node-BoilerPlate-main&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\Capstone Projects\\4th Module - Backend\\Subscribers-Mongo-Node-BoilerPlate-main\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\Capstone Projects\\4th Module - Backend\\Subscribers-Mongo-Node-BoilerPlate-main\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>